{"name":"stlatica","desc":"","tables":[{"name":"goose_db_version","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"bigint unsigned","nullable":false,"default":null,"comment":"","extra_def":"auto_increment"},{"name":"version_id","type":"bigint","nullable":false,"default":null,"comment":""},{"name":"is_applied","type":"tinyint(1)","nullable":false,"default":null,"comment":""},{"name":"tstamp","type":"timestamp","nullable":true,"default":"CURRENT_TIMESTAMP","extra_def":"DEFAULT_GENERATED","comment":""}],"indexes":[{"name":"PRIMARY","def":"PRIMARY KEY (id) USING BTREE","table":"goose_db_version","columns":["id"],"comment":""},{"name":"id","def":"UNIQUE KEY id (id) USING BTREE","table":"goose_db_version","columns":["id"],"comment":""}],"constraints":[{"name":"id","type":"UNIQUE","def":"UNIQUE KEY id (id)","table":"goose_db_version","referenced_table":null,"columns":["id"],"referenced_columns":null,"comment":""},{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"goose_db_version","referenced_table":null,"columns":["id"],"referenced_columns":null,"comment":""}],"triggers":[],"def":"CREATE TABLE `goose_db_version` (\n  `id` bigint unsigned NOT NULL AUTO_INCREMENT,\n  `version_id` bigint NOT NULL,\n  `is_applied` tinyint(1) NOT NULL,\n  `tstamp` timestamp NULL DEFAULT CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `id` (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=[Redacted by tbls] DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_ja_0900_as_cs"},{"name":"plats","type":"BASE TABLE","comment":"","columns":[{"name":"plat_id","type":"char(26)","nullable":false,"default":null,"comment":"ulid"},{"name":"user_id","type":"char(26)","nullable":false,"default":null,"comment":"user_id"},{"name":"content","type":"varchar(255)","nullable":false,"default":null,"comment":"body text"},{"name":"created_at","type":"bigint unsigned","nullable":false,"default":null,"comment":"Unix time"},{"name":"updated_at","type":"bigint unsigned","nullable":false,"default":null,"comment":"Unix time"}],"indexes":[{"name":"fk_plats_users","def":"KEY fk_plats_users (user_id) USING BTREE","table":"plats","columns":["user_id"],"comment":""},{"name":"PRIMARY","def":"PRIMARY KEY (plat_id) USING BTREE","table":"plats","columns":["plat_id"],"comment":""}],"constraints":[{"name":"fk_plats_users","type":"FOREIGN KEY","def":"FOREIGN KEY (user_id) REFERENCES users (user_id)","table":"plats","referenced_table":"users","columns":["user_id"],"referenced_columns":["user_id"],"comment":""},{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (plat_id)","table":"plats","referenced_table":null,"columns":["plat_id"],"referenced_columns":null,"comment":""}],"triggers":[],"def":"CREATE TABLE `plats` (\n  `plat_id` char(26) COLLATE utf8mb4_ja_0900_as_cs NOT NULL COMMENT 'ulid',\n  `user_id` char(26) COLLATE utf8mb4_ja_0900_as_cs NOT NULL COMMENT 'user_id',\n  `content` varchar(255) COLLATE utf8mb4_ja_0900_as_cs NOT NULL COMMENT 'body text',\n  `created_at` bigint unsigned NOT NULL COMMENT 'Unix time',\n  `updated_at` bigint unsigned NOT NULL COMMENT 'Unix time',\n  PRIMARY KEY (`plat_id`),\n  KEY `fk_plats_users` (`user_id`),\n  CONSTRAINT `fk_plats_users` FOREIGN KEY (`user_id`) REFERENCES `users` (`user_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_ja_0900_as_cs"},{"name":"timeline_users","type":"BASE TABLE","comment":"","columns":[{"name":"timeline_id","type":"char(26)","nullable":false,"default":null,"comment":"ulid"},{"name":"user_id","type":"char(26)","nullable":false,"default":null,"comment":"user_id"},{"name":"created_at","type":"bigint unsigned","nullable":false,"default":null,"comment":"Unix time"},{"name":"updated_at","type":"bigint unsigned","nullable":false,"default":null,"comment":"Unix time"}],"indexes":[{"name":"fk_timeline_users_users","def":"KEY fk_timeline_users_users (user_id) USING BTREE","table":"timeline_users","columns":["user_id"],"comment":""},{"name":"PRIMARY","def":"PRIMARY KEY (timeline_id, user_id) USING BTREE","table":"timeline_users","columns":["timeline_id","user_id"],"comment":""}],"constraints":[{"name":"fk_timeline_users_timelines","type":"FOREIGN KEY","def":"FOREIGN KEY (timeline_id) REFERENCES timelines (timeline_id)","table":"timeline_users","referenced_table":"timelines","columns":["timeline_id"],"referenced_columns":["timeline_id"],"comment":""},{"name":"fk_timeline_users_users","type":"FOREIGN KEY","def":"FOREIGN KEY (user_id) REFERENCES users (user_id)","table":"timeline_users","referenced_table":"users","columns":["user_id"],"referenced_columns":["user_id"],"comment":""},{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (timeline_id, user_id)","table":"timeline_users","referenced_table":null,"columns":["timeline_id","user_id"],"referenced_columns":null,"comment":""}],"triggers":[],"def":"CREATE TABLE `timeline_users` (\n  `timeline_id` char(26) COLLATE utf8mb4_ja_0900_as_cs NOT NULL COMMENT 'ulid',\n  `user_id` char(26) COLLATE utf8mb4_ja_0900_as_cs NOT NULL COMMENT 'user_id',\n  `created_at` bigint unsigned NOT NULL COMMENT 'Unix time',\n  `updated_at` bigint unsigned NOT NULL COMMENT 'Unix time',\n  PRIMARY KEY (`timeline_id`,`user_id`),\n  KEY `fk_timeline_users_users` (`user_id`),\n  CONSTRAINT `fk_timeline_users_timelines` FOREIGN KEY (`timeline_id`) REFERENCES `timelines` (`timeline_id`),\n  CONSTRAINT `fk_timeline_users_users` FOREIGN KEY (`user_id`) REFERENCES `users` (`user_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_ja_0900_as_cs"},{"name":"timelines","type":"BASE TABLE","comment":"","columns":[{"name":"timeline_id","type":"char(26)","nullable":false,"default":null,"comment":"ulid"},{"name":"user_id","type":"char(26)","nullable":false,"default":null,"comment":"user_id"},{"name":"name","type":"varchar(64)","nullable":false,"default":null,"comment":"name"},{"name":"description","type":"varchar(255)","nullable":false,"default":null,"comment":"description"},{"name":"created_at","type":"bigint unsigned","nullable":false,"default":null,"comment":"Unix time"},{"name":"updated_at","type":"bigint unsigned","nullable":false,"default":null,"comment":"Unix time"}],"indexes":[{"name":"fk_timelines_users","def":"KEY fk_timelines_users (user_id) USING BTREE","table":"timelines","columns":["user_id"],"comment":""},{"name":"PRIMARY","def":"PRIMARY KEY (timeline_id) USING BTREE","table":"timelines","columns":["timeline_id"],"comment":""}],"constraints":[{"name":"fk_timelines_users","type":"FOREIGN KEY","def":"FOREIGN KEY (user_id) REFERENCES users (user_id)","table":"timelines","referenced_table":"users","columns":["user_id"],"referenced_columns":["user_id"],"comment":""},{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (timeline_id)","table":"timelines","referenced_table":null,"columns":["timeline_id"],"referenced_columns":null,"comment":""}],"triggers":[],"def":"CREATE TABLE `timelines` (\n  `timeline_id` char(26) COLLATE utf8mb4_ja_0900_as_cs NOT NULL COMMENT 'ulid',\n  `user_id` char(26) COLLATE utf8mb4_ja_0900_as_cs NOT NULL COMMENT 'user_id',\n  `name` varchar(64) COLLATE utf8mb4_ja_0900_as_cs NOT NULL COMMENT 'name',\n  `description` varchar(255) COLLATE utf8mb4_ja_0900_as_cs NOT NULL COMMENT 'description',\n  `created_at` bigint unsigned NOT NULL COMMENT 'Unix time',\n  `updated_at` bigint unsigned NOT NULL COMMENT 'Unix time',\n  PRIMARY KEY (`timeline_id`),\n  KEY `fk_timelines_users` (`user_id`),\n  CONSTRAINT `fk_timelines_users` FOREIGN KEY (`user_id`) REFERENCES `users` (`user_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_ja_0900_as_cs"},{"name":"user_auth_credentials","type":"BASE TABLE","comment":"","columns":[{"name":"user_id","type":"char(26)","nullable":false,"default":null,"comment":"UserID"},{"name":"encrypted_password","type":"varchar(64)","nullable":false,"default":null,"comment":"Encrypted password"},{"name":"created_at","type":"bigint unsigned","nullable":false,"default":null,"comment":"Unix time"},{"name":"updated_at","type":"bigint unsigned","nullable":false,"default":null,"comment":"Unix time"}],"indexes":[{"name":"PRIMARY","def":"PRIMARY KEY (user_id) USING BTREE","table":"user_auth_credentials","columns":["user_id"],"comment":""}],"constraints":[{"name":"fk_user_auth_credentials_users","type":"FOREIGN KEY","def":"FOREIGN KEY (user_id) REFERENCES users (user_id)","table":"user_auth_credentials","referenced_table":"users","columns":["user_id"],"referenced_columns":["user_id"],"comment":""},{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (user_id)","table":"user_auth_credentials","referenced_table":null,"columns":["user_id"],"referenced_columns":null,"comment":""}],"triggers":[],"def":"CREATE TABLE `user_auth_credentials` (\n  `user_id` char(26) COLLATE utf8mb4_ja_0900_as_cs NOT NULL COMMENT 'UserID',\n  `encrypted_password` varchar(64) COLLATE utf8mb4_ja_0900_as_cs NOT NULL COMMENT 'Encrypted password',\n  `created_at` bigint unsigned NOT NULL COMMENT 'Unix time',\n  `updated_at` bigint unsigned NOT NULL COMMENT 'Unix time',\n  PRIMARY KEY (`user_id`),\n  CONSTRAINT `fk_user_auth_credentials_users` FOREIGN KEY (`user_id`) REFERENCES `users` (`user_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_ja_0900_as_cs"},{"name":"user_relations","type":"BASE TABLE","comment":"","columns":[{"name":"follow_user_id","type":"char(26)","nullable":false,"default":null,"comment":"user_id of the followed side"},{"name":"follower_user_id","type":"char(26)","nullable":false,"default":null,"comment":"user_id of the follower side"},{"name":"created_at","type":"bigint unsigned","nullable":false,"default":null,"comment":"Unix time"},{"name":"updated_at","type":"bigint unsigned","nullable":false,"default":null,"comment":"Unix time"}],"indexes":[{"name":"fk_user_relations_follower_user_id","def":"KEY fk_user_relations_follower_user_id (follower_user_id) USING BTREE","table":"user_relations","columns":["follower_user_id"],"comment":""},{"name":"PRIMARY","def":"PRIMARY KEY (follow_user_id, follower_user_id) USING BTREE","table":"user_relations","columns":["follow_user_id","follower_user_id"],"comment":""}],"constraints":[{"name":"fk_user_relations_follow_user_id","type":"FOREIGN KEY","def":"FOREIGN KEY (follow_user_id) REFERENCES users (user_id)","table":"user_relations","referenced_table":"users","columns":["follow_user_id"],"referenced_columns":["user_id"],"comment":""},{"name":"fk_user_relations_follower_user_id","type":"FOREIGN KEY","def":"FOREIGN KEY (follower_user_id) REFERENCES users (user_id)","table":"user_relations","referenced_table":"users","columns":["follower_user_id"],"referenced_columns":["user_id"],"comment":""},{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (follow_user_id, follower_user_id)","table":"user_relations","referenced_table":null,"columns":["follow_user_id","follower_user_id"],"referenced_columns":null,"comment":""}],"triggers":[],"def":"CREATE TABLE `user_relations` (\n  `follow_user_id` char(26) COLLATE utf8mb4_ja_0900_as_cs NOT NULL COMMENT 'user_id of the followed side',\n  `follower_user_id` char(26) COLLATE utf8mb4_ja_0900_as_cs NOT NULL COMMENT 'user_id of the follower side',\n  `created_at` bigint unsigned NOT NULL COMMENT 'Unix time',\n  `updated_at` bigint unsigned NOT NULL COMMENT 'Unix time',\n  PRIMARY KEY (`follow_user_id`,`follower_user_id`),\n  KEY `fk_user_relations_follower_user_id` (`follower_user_id`),\n  CONSTRAINT `fk_user_relations_follow_user_id` FOREIGN KEY (`follow_user_id`) REFERENCES `users` (`user_id`),\n  CONSTRAINT `fk_user_relations_follower_user_id` FOREIGN KEY (`follower_user_id`) REFERENCES `users` (`user_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_ja_0900_as_cs"},{"name":"users","type":"BASE TABLE","comment":"","columns":[{"name":"user_id","type":"char(26)","nullable":false,"default":null,"comment":"ulid"},{"name":"preferred_user_id","type":"varchar(64)","nullable":false,"default":null,"comment":"preferred user id"},{"name":"preferred_user_name","type":"varchar(64)","nullable":false,"default":null,"comment":"preferred user name"},{"name":"registered_at","type":"bigint unsigned","nullable":false,"default":null,"comment":"Unix time"},{"name":"is_public","type":"tinyint(1)","nullable":false,"default":null,"comment":"user is public"},{"name":"mail_address","type":"varchar(256)","nullable":false,"default":null,"comment":"mail address"},{"name":"icon_image_id","type":"char(26)","nullable":false,"default":null,"comment":"icon image id"},{"name":"created_at","type":"bigint unsigned","nullable":false,"default":null,"comment":"Unix time"},{"name":"updated_at","type":"bigint unsigned","nullable":false,"default":null,"comment":"Unix time"}],"indexes":[{"name":"PRIMARY","def":"PRIMARY KEY (user_id) USING BTREE","table":"users","columns":["user_id"],"comment":""},{"name":"idx_users_mail_address","def":"UNIQUE KEY idx_users_mail_address (mail_address) USING BTREE","table":"users","columns":["mail_address"],"comment":""},{"name":"idx_users_preferred_user_id","def":"UNIQUE KEY idx_users_preferred_user_id (preferred_user_id) USING BTREE","table":"users","columns":["preferred_user_id"],"comment":""},{"name":"mail_address","def":"UNIQUE KEY mail_address (mail_address) USING BTREE","table":"users","columns":["mail_address"],"comment":""}],"constraints":[{"name":"idx_users_mail_address","type":"UNIQUE","def":"UNIQUE KEY idx_users_mail_address (mail_address)","table":"users","referenced_table":null,"columns":["mail_address"],"referenced_columns":null,"comment":""},{"name":"idx_users_preferred_user_id","type":"UNIQUE","def":"UNIQUE KEY idx_users_preferred_user_id (preferred_user_id)","table":"users","referenced_table":null,"columns":["preferred_user_id"],"referenced_columns":null,"comment":""},{"name":"mail_address","type":"UNIQUE","def":"UNIQUE KEY mail_address (mail_address)","table":"users","referenced_table":null,"columns":["mail_address"],"referenced_columns":null,"comment":""},{"name":"PRIMARY","type":"PRIMARY KEY","def":"PRIMARY KEY (user_id)","table":"users","referenced_table":null,"columns":["user_id"],"referenced_columns":null,"comment":""}],"triggers":[],"def":"CREATE TABLE `users` (\n  `user_id` char(26) COLLATE utf8mb4_ja_0900_as_cs NOT NULL COMMENT 'ulid',\n  `preferred_user_id` varchar(64) COLLATE utf8mb4_ja_0900_as_cs NOT NULL COMMENT 'preferred user id',\n  `preferred_user_name` varchar(64) COLLATE utf8mb4_ja_0900_as_cs NOT NULL COMMENT 'preferred user name',\n  `registered_at` bigint unsigned NOT NULL COMMENT 'Unix time',\n  `is_public` tinyint(1) NOT NULL COMMENT 'user is public',\n  `mail_address` varchar(256) COLLATE utf8mb4_ja_0900_as_cs NOT NULL COMMENT 'mail address',\n  `icon_image_id` char(26) COLLATE utf8mb4_ja_0900_as_cs NOT NULL COMMENT 'icon image id',\n  `created_at` bigint unsigned NOT NULL COMMENT 'Unix time',\n  `updated_at` bigint unsigned NOT NULL COMMENT 'Unix time',\n  PRIMARY KEY (`user_id`),\n  UNIQUE KEY `mail_address` (`mail_address`),\n  UNIQUE KEY `idx_users_preferred_user_id` (`preferred_user_id`),\n  UNIQUE KEY `idx_users_mail_address` (`mail_address`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_ja_0900_as_cs"}],"relations":[{"table":"plats","columns":["user_id"],"cardinality":"Zero or more","parent_table":"users","parent_columns":["user_id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (user_id) REFERENCES users (user_id)","virtual":false},{"table":"timeline_users","columns":["timeline_id"],"cardinality":"Zero or more","parent_table":"timelines","parent_columns":["timeline_id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (timeline_id) REFERENCES timelines (timeline_id)","virtual":false},{"table":"timeline_users","columns":["user_id"],"cardinality":"Zero or more","parent_table":"users","parent_columns":["user_id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (user_id) REFERENCES users (user_id)","virtual":false},{"table":"timelines","columns":["user_id"],"cardinality":"Zero or more","parent_table":"users","parent_columns":["user_id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (user_id) REFERENCES users (user_id)","virtual":false},{"table":"user_auth_credentials","columns":["user_id"],"cardinality":"Zero or one","parent_table":"users","parent_columns":["user_id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (user_id) REFERENCES users (user_id)","virtual":false},{"table":"user_relations","columns":["follow_user_id"],"cardinality":"Zero or more","parent_table":"users","parent_columns":["user_id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (follow_user_id) REFERENCES users (user_id)","virtual":false},{"table":"user_relations","columns":["follower_user_id"],"cardinality":"Zero or more","parent_table":"users","parent_columns":["user_id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (follower_user_id) REFERENCES users (user_id)","virtual":false}],"functions":[],"driver":{"name":"mysql","database_version":"8.4.2","meta":{"dict":{"Functions":"Stored procedures and functions"}}}}
